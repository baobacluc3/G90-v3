<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ganador Dog Food</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f7f7f7;
        color: #333;
      }

      .container {
        display: flex;
        padding: 20px;
        max-width: 1200px;
        margin: auto;
        background-color: #fff;
      }

      .product-img {
        flex: 1;
        padding: 20px;
      }

      .product-img img {
        max-width: 100%;
        border-radius: 8px;
      }

      .product-info {
        flex: 2;
        padding: 20px;
      }

      .product-info h1 {
        font-size: 26px;
        margin-bottom: 10px;
      }

      .price {
        font-size: 24px;
        color: #000;
        font-weight: bold;
        margin-bottom: 10px;
      }

      .desc {
        font-size: 16px;
        margin-bottom: 20px;
      }

      .note {
        font-size: 14px;
        color: #d00;
        font-style: italic;
      }

      .quantity-box {
        display: flex;
        align-items: center;
        margin: 20px 0;
      }

      .quantity-box button {
        width: 30px;
        height: 30px;
        font-size: 18px;
      }

      .quantity-box input {
        width: 40px;
        text-align: center;
        margin: 0 5px;
      }

      .buttons {
        display: flex;
        gap: 10px;
      }

      .btn {
        padding: 10px 20px;
        border: none;
        color: #fff;
        cursor: pointer;
        border-radius: 4px;
        font-size: 16px;
      }

      .btn-buy {
        background-color: #007bff;
      }

      .btn-zalo {
        background-color: #2673d2;
      }

      .btn-hotline {
        background-color: #e63946;
      }

      .sidebar {
        width: 280px;
        padding: 20px;
        background-color: #f1f1f1;
        margin-left: 20px;
        border-radius: 6px;
        font-size: 14px;
      }

      .sidebar h3 {
        font-size: 18px;
        margin-bottom: 15px;
      }

      .sidebar div {
        margin-bottom: 15px;
      }

      .phone {
        color: red;
        font-weight: bold;
      }

      .footer {
        text-align: center;
        margin-top: 30px;
        font-size: 13px;
        color: #888;
      }
    </style>
  </head>
  <body>
    <div style="display: flex; justify-content: center">
      <div class="container">
        <div class="product-img">
          <img src="/assets/images/milk7.png" alt="S2" />
        </div>

        <div class="product-info">
          <h1>S·ªØa b·ªôt Goat Gold cho ch√≥ m√®o h·ªôp 200g h√†ng nh·∫≠p Th√°i Lan</h1>
          <div class="price">135.000 ‚Ç´</div>
          <p class="desc">
            S·ªØa b·ªôt Goat Gold cho ch√≥ m√®o ƒë∆∞·ª£c l√†m t·ª´ s·ªØa d√™ gi√†u dinh d∆∞·ª°ng, h·ªó
            tr·ª£ hi·ªáu qu·∫£ cho s·ª± ph√°t tri·ªÉn c·ªßa th√∫ c∆∞ng, l√† m√≥n ƒë·ªì u·ªëng kho√°i
            kh·∫©u c·ªßa c√°c b√©.
          </p>
          <p class="note">
            <strong>L∆∞u √Ω:</strong> Gi√° s·∫£n ph·∫©m c√≥ th·ªÉ thay ƒë·ªïi theo t·ª´ng th·ªùi
            ƒëi·ªÉm. <em style="color: blue">K·∫øt b·∫°n Zalo</em> ho·∫∑c
            <em style="color: red">G·ªçi Hotline</em> ƒë·ªÉ xem th√™m h√¨nh ·∫£nh/video
            chi ti·∫øt.
          </p>

          <div class="quantity-box">
            <button onclick="changeQuantity(-1)">-</button>
            <input type="text" id="quantity" value="1" readonly />
            <button onclick="changeQuantity(1)">+</button>
          </div>

          <div class="buttons">
            <button class="btn btn-buy">ƒê·∫∂T MUA</button>
            <button class="btn btn-zalo">CHAT ZALO</button>
            <button class="btn btn-hotline">G·ªåI HOTLINE</button>
          </div>
        </div>

        <div class="sidebar">
          <h3>üìçH·ªá th·ªëng c·ª≠a h√†ng</h3>
          <div>
            <strong>C·ª≠a H√†ng C·∫©m L·ªá:</strong><br />010 Tr·∫ßn Ph∆∞·ªõc Th√†nh, Qu·∫≠n
            C·∫©m L·ªá, TP. ƒê√† N·∫µng.
          </div>
          <div>
            <strong>C·ª≠a H·∫£i Ch√¢u:</strong><br />
            015 Quang Trung, Qu·∫≠n H·∫£i Ch√¢u, TP. ƒê√† N·∫µng
          </div>
          <div class="phone">üìû 0395560056</div>
        </div>
      </div>
    </div>

    <script>
      function changeQuantity(amount) {
        const input = document.getElementById("quantity");
        let current = parseInt(input.value);
        if (current + amount >= 1) {
          input.value = current + amount;
        }
      }
    </script>
    <script>
      function addToCart() {
        const buyButton = document.querySelector(".btn-buy");
        const originalText = buyButton.innerHTML;

        buyButton.disabled = true;
        buyButton.innerHTML =
          '<i class="fas fa-spinner fa-spin me-1"></i>ƒêang th√™m...';

        try {
          const productName = document.querySelector("h1").textContent.trim();
          const priceText = document.querySelector(".price").textContent.trim();
          const price = parseInt(priceText.replace(/[^0-9]/g, ""));
          const quantity =
            parseInt(document.getElementById("quantity").value) || 1;
          const productImage = document.querySelector(".product-img img").src;

          const currentPage = window.location.pathname;
          const productId =
            currentPage.match(/S(\d+)\.html/)?.[1] || Math.random().toString();

          const product = {
            id: productId,
            name: productName,
            price: price,
            quantity: quantity,
            image: productImage,
          };

          setTimeout(() => {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];

            const existingIndex = cart.findIndex(
              (item) => item.id === productId
            );

            if (existingIndex > -1) {
              cart[existingIndex].quantity += quantity;
            } else {
              cart.push(product);
            }

            localStorage.setItem("cart", JSON.stringify(cart));

            buyButton.innerHTML = '<i class="fas fa-check me-1"></i>ƒê√£ th√™m!';
            buyButton.className = "btn btn-success";

            showNotification(
              `ƒê√£ th√™m ${quantity} ${productName} v√†o gi·ªè h√†ng!`,
              "success"
            );

            setTimeout(() => {
              window.location.href = "../cart.html";
            }, 2000);
          }, 800);
        } catch (error) {
          console.error("L·ªói:", error);
          showNotification("C√≥ l·ªói x·∫£y ra!", "error");

          buyButton.disabled = false;
          buyButton.innerHTML = originalText;
          buyButton.className = "btn btn-buy";
        }
      }

      function showNotification(message, type = "success") {
        const toast = document.createElement("div");
        toast.className = `alert alert-${
          type === "success" ? "success" : "danger"
        } alert-dismissible fade show position-fixed`;
        toast.style.cssText =
          "top: 20px; right: 20px; z-index: 9999; min-width: 300px;";
        toast.innerHTML = `
        <div class="d-flex align-items-center">
            <i class="fas fa-${
              type === "success" ? "check-circle" : "exclamation-circle"
            } me-2"></i>
            <span>${message}</span>
            <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>
        </div>
    `;

        document.body.appendChild(toast);

        setTimeout(() => {
          if (toast.parentNode) {
            toast.remove();
          }
        }, 5000);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const buyButton = document.querySelector(".btn-buy");
        if (buyButton) {
          buyButton.addEventListener("click", function (e) {
            e.preventDefault();
            addToCart();
          });
        }
      });

      function viewCart() {
        window.location.href = "../cart.html";
      }
    </script>
  </body>
</html>
